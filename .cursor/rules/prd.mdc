---
alwaysApply: true
---
# 🍺 Web 기반 양조장 제어 시스템 – PRD (Draft)

---

## 1. 📌 프로젝트 개요

### 🎯 목적

라즈베리파이 4에서 구동되는 메인 제어 프로그램을 대상으로,

**윈도우 PC에서 브라우저로 접속해 제어·모니터링할 수 있는 웹 기반 제어 프로그램**을 개발한다.

윈도우용 웹 기반 제어 프로그램은 다음을 목표로 한다.

- Windows 환경에서 운영자가 브라우저(Chrome, Edge 등)를 통해 접속
- 라즈베리파이 4에 탑재된 메인 제어 프로그램과 통신하여
    - 여러 대의 STM32G474 유닛보드(CAN-FD 네트워크로 연결)를 제어
    - 양조 공정에 필요한 센서 데이터 모니터링
    - 레시피 실행/정지 및 상태 확인
- 추후 별도의 메인 PC GUI 프로그램으로 확장 가능하도록,
**통신 프로토콜과 전체 구조를 재사용 가능한 형태로 설계**한다.

### 🖥️ 기술 스택

- **Backend:** Litestar (Python)
- **Frontend:** React + Figma UI 설계
- **통신 구조:** JSON Server 방식
- **Main Device:** Raspberry Pi 4
- **Firmware Boards:** STM32G474 (Units)

---

## 2. 🧱 시스템 아키텍처

### 전체 구조

```
PC / Tablet / Mobile Browser
            │
            ▼
      React Frontend
            │  REST / WebSocket
            ▼
     Litestar Backend (Raspberry Pi)
            │  JSON Command / Status
            ▼
    Main Control Program (raspberry pi 4 - Python)
            │
            ▼
       CAN-FD Network
            │
      ┌───────── 20+ Unit Boards ─────────┐
      ▼                                    ▼
 STM32G474 Unit 0 …               STM32G474 Unit 19

```

---